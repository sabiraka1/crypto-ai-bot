[importlinter]
root_package = crypto_ai_bot

# Слои: никто не импортирует "вверх".
# domain — самый независимый (никого не импортирует).
[contract:layers_core]
name = Core layers
type = layers
layers =
    crypto_ai_bot.app
    crypto_ai_bot.core.infrastructure
    crypto_ai_bot.core.application
    crypto_ai_bot.core.domain

# Запрет application -> infrastructure (жёстко, без исключений)
[contract:forbid_app_infra]
name = Application must not import Infrastructure
type = forbidden
source_modules =
    crypto_ai_bot.core.application
forbidden_modules =
    crypto_ai_bot.core.infrastructure
