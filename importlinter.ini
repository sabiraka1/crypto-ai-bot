[importlinter]
root_package = crypto_ai_bot

[contract:layers_high]
name = High-level layering
layers =
    crypto_ai_bot.cli
    crypto_ai_bot.app
    crypto_ai_bot.core
    crypto_ai_bot.utils

[contract:layers_core]
name = Core layering (domain->application->infrastructure)
layers =
    crypto_ai_bot.core.domain
    crypto_ai_bot.core.application
    crypto_ai_bot.core.infrastructure

[contract:forbid_core_to_upper]
name = core must not import cli/app
type = forbidden
source_modules =
    crypto_ai_bot.core
forbidden_modules =
    crypto_ai_bot.cli
    crypto_ai_bot.app

[contract:forbid_utils_to_upper]
name = utils must not import upper layers
type = forbidden
source_modules =
    crypto_ai_bot.utils
forbidden_modules =
    crypto_ai_bot.cli
    crypto_ai_bot.app
    crypto_ai_bot.core

[contract:no_cycles_core]
name = No import cycles in core
type = independence
modules =
    crypto_ai_bot.core
