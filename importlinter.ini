[importlinter]
root_package = crypto_ai_bot

[contract:layers]
name = Layered architecture
type = layers
layers =
    crypto_ai_bot.utils
    crypto_ai_bot.core
    crypto_ai_bot.app

[contract:no_utils_upwards]
name = Utils must not import app/core
type = forbidden
source_modules =
    crypto_ai_bot.utils
forbidden_modules =
    crypto_ai_bot.core
    crypto_ai_bot.app

[contract:app_no_storage_internals]
name = App must not import storage internals
type = forbidden
source_modules =
    crypto_ai_bot.app
forbidden_modules =
    crypto_ai_bot.core.storage.repositories
    crypto_ai_bot.core.storage.migrations

[contract:ban_live_broker]
name = Forbid core.brokers.live (deleted)
type = forbidden
source_modules =
    crypto_ai_bot
forbidden_modules =
    crypto_ai_bot.core.brokers.live
