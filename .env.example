# Режимы: paper (симуляция) | live (реальные ордера)
MODE=paper
EXCHANGE=gateio

# Один символ или список через запятую (если указан SYMBOLS, он перекрывает SYMBOL)
SYMBOL=BTC/USDT
SYMBOLS=

# Фиксированная котируемая сумма для покупки (quote) по умолчанию
FIXED_AMOUNT=25

# Оценки издержек (используются в risk/alerts)
FEE_PCT_ESTIMATE=0.001

# --- RiskManager (чистый Domain) ---
RISK_COOLDOWN_SEC=0
# проценты (0.5 = 0.5%)
RISK_MAX_SPREAD_PCT=0.5
RISK_MAX_POSITION_BASE=0
RISK_MAX_ORDERS_PER_HOUR=10
RISK_DAILY_LOSS_LIMIT_QUOTE=50
RISK_MAX_FEE_PCT=0.2
RISK_MAX_SLIPPAGE_PCT=1.0

# backward-compat (если в коде/окружении используются старые ключи)
RISK_MAX_ORDERS_5M=10
SAFETY_MAX_TURNOVER_QUOTE_PER_DAY=200

# --- Идемпотентность и интервалы ---
IDEMPOTENCY_BUCKET_MS=60000
IDEMPOTENCY_TTL_SEC=120

EVAL_INTERVAL_SEC=3
EXITS_INTERVAL_SEC=5
RECONCILE_INTERVAL_SEC=10
WATCHDOG_INTERVAL_SEC=3
SETTLEMENT_INTERVAL_SEC=7

# --- Dead Man’s Switch (актуально для live) ---
DMS_TIMEOUT_MS=120000
DMS_RECHECKS=2
DMS_RECHECK_DELAY_SEC=3.0
DMS_MAX_IMPACT_PCT=0

# --- Ключи API (любой из способов) ---
# Прямо в переменных:
API_KEY=
API_SECRET=
# Или через файлы:
# API_KEY_FILE=/run/secrets/gate_key
# API_SECRET_FILE=/run/secrets/gate_secret
# Или через base64:
# API_KEY_B64=base64...
# API_SECRET_B64=base64...
# Или общий JSON:
# SECRETS_FILE=/run/secrets/crypto_ai_bot.json

# --- Telegram (опционально) ---
TELEGRAM_BOT_TOKEN=
TELEGRAM_BOT_SECRET=
TELEGRAM_CHAT_ID=

# --- Шина/Хранилище/Сервис ---
# Укажи Redis для durable-режима шины; если пусто — in-memory
EVENT_BUS_URL=
DB_PATH=./data/crypto_ai_bot.sqlite
HTTP_TIMEOUT_SEC=30
LOG_LEVEL=INFO

# Токен для защищённых ручек (Bearer)
API_TOKEN=change-me
