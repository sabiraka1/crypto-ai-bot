# ==========================================
# CRYPTO-AI-BOT CONFIGURATION v8.0
# ==========================================

# === MODE SELECTION ===
MODE=paper                          # paper | live
EXCHANGE=gateio                     # Биржа (gateio, binance, etc)
SYMBOL=BTC/USDT                     # Торговая пара

# === ORCHESTRATOR INTERVALS (seconds) ===
EVAL_INTERVAL_SEC=60                # Частота оценки рынка
EXITS_INTERVAL_SEC=5                # Проверка SL/TP
RECONCILE_INTERVAL_SEC=60           # Сверка с биржей
WATCHDOG_INTERVAL_SEC=15            # Heartbeat + DMS проверка

# === TRADING AMOUNTS ===
FIXED_QUOTE_AMOUNT=100.0            # Покупка: сумма в USDT
FIXED_BASE_AMOUNT=0.001             # Продажа: количество BTC

# === PAPER MODE SETTINGS ===
PAPER_INITIAL_BALANCE_USDT=10000.0  # Стартовый баланс USDT
PAPER_INITIAL_BALANCE_BTC=0.0       # Стартовый баланс BTC
PAPER_SIMULATE_SLIPPAGE=true        # Симуляция проскальзывания
PAPER_SLIPPAGE_PCT=0.1              # Проскальзывание 0.1%
PAPER_SIMULATE_FEES=true            # Симуляция комиссий
PAPER_FEE_PCT=0.2                   # Комиссия 0.2% (Gate.io taker)

# === LIVE MODE SETTINGS ===
LIVE_API_KEY=                       # API ключ биржи
LIVE_API_SECRET=                    # API секрет
LIVE_API_PASSPHRASE=                # API passphrase (для некоторых бирж)
LIVE_SANDBOX=false                  # Использовать sandbox биржи
LIVE_MAX_QUOTE_AMOUNT=1000.0        # Макс. сумма покупки USDT
LIVE_MAX_BASE_AMOUNT=0.1            # Макс. количество продажи BTC

# === RISK MANAGEMENT ===
RISK_COOLDOWN_SEC=30                # Пауза между ордерами
RISK_MAX_SPREAD_PCT=0.3             # Макс. допустимый спред (0.3%)
RISK_MAX_POSITION_BASE=0.1          # Макс. размер позиции в BTC
RISK_MAX_ORDERS_PER_HOUR=20         # Макс. ордеров в час
RISK_DAILY_LOSS_LIMIT_QUOTE=500     # Дневной лимит потерь USDT
RISK_LOSS_STREAK_LIMIT=3            # Макс. убыточных сделок подряд

# === PROTECTIVE EXITS (SL/TP) ===
EXITS_SL_PCT=1.0                    # Stop Loss 1% от входа
EXITS_TP_PCT=2.0                    # Take Profit 2% от входа

# === SIGNALS / STRATEGY ===
BUY_THRESHOLD=0.60                  # Порог покупки (score)
SELL_THRESHOLD=0.40                 # Порог продажи (score)
SMA_FAST_PERIOD=5                   # Быстрая SMA
SMA_SLOW_PERIOD=20                  # Медленная SMA
VOLATILITY_WINDOW=20                # Окно волатильности

# === IDEMPOTENCY ===
IDEMPOTENCY_BUCKET_MS=60000         # Окно бакета (1 минута)
IDEMPOTENCY_TTL_SEC=300             # TTL ключей (5 минут)

# === CIRCUIT BREAKER ===
CB_FAIL_THRESHOLD=5                 # Ошибок до открытия
CB_OPEN_TIMEOUT_SEC=30              # Время в открытом состоянии
CB_HALF_OPEN_CALLS=2                # Вызовов в half-open
CB_WINDOW_SEC=60                    # Окно подсчета ошибок

# === RATE LIMITS ===
CCXT_ENABLE_RATE_LIMIT=true         # Включить rate limit CCXT
ORDERS_RPS=10                       # Ордеров в секунду
MARKET_DATA_RPS=60                  # Запросов данных в секунду
ACCOUNT_RPS=30                      # Запросов баланса в секунду

# === STORAGE ===
DB_PATH=./data/bot.sqlite            # Путь к БД
DB_JOURNAL_MODE_WAL=true            # WAL режим SQLite
DB_BACKUP_DIR=./data/backups        # Директория бэкапов
DB_BACKUP_KEEP_DAYS=14              # Хранить бэкапы (дней)

# === TELEGRAM BOT (optional) ===
TELEGRAM_ENABLED=false               # Включить Telegram
TELEGRAM_BOT_TOKEN=                 # Токен бота
TELEGRAM_BOT_SECRET=                # Секрет для webhook
TELEGRAM_ALERT_CHAT_ID=             # Chat ID для алертов

# === MONITORING ===
PROMETHEUS_ENABLED=false             # Включить Prometheus метрики
METRICS_PORT=9090                    # Порт для метрик
HEALTH_CHECK_TIMEOUT_MS=1500        # Таймаут health check

# === LOGGING ===
LOG_LEVEL=INFO                       # DEBUG | INFO | WARNING | ERROR
LOG_FORMAT=json                      # json | text
LOG_FILE=./logs/bot.log             # Путь к лог файлу
LOG_ROTATION=daily                   # daily | size | time
LOG_RETENTION_DAYS=7                 # Хранить логи (дней)

# === SAFETY SYSTEMS (built-in defaults) ===
# INSTANCE_LOCK_TTL=300              # Встроено в instance_lock.py
# DMS_TIMEOUT=120                    # Встроено в dead_mans_switch.py

# === ADVANCED (rarely changed) ===
ENABLE_TRADING=true                  # Глобальный переключатель торговли
TIMEFRAME=15m                        # Таймфрейм для анализа
MAX_RECONNECT_ATTEMPTS=5             # Попыток переподключения
RECONNECT_DELAY_MS=5000              # Задержка переподключения